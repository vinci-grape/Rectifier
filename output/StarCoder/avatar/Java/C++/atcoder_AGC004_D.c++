#include <bits/stdc++.h> using namespace std; int main ( ) { int n, k; list < int > as; while ( cin >> n >> k ) { as.clear ( ) ; for ( int i = 0 ; i < n ; i ++ ) { int a ; cin >> a ; as.push_back ( a - 1 ) ; } cout << Calculator ( n, k, as ).calculate ( ) << endl ; } } class Calculator { private: int k, answer = 0, isCalculate = false; list < list < int >> lists; public: Calculator ( int n, int k, list < int > as ) { this->k = k ; for ( int i = 0 ; i < n ; i ++ ) { this->lists.push_back ( list < int > ( ) ) ; } for ( int i = 0 ; i < n ; i ++ ) { int j = as [ i ] ; if ( 0 < i ) { this->lists [ j ].push_back ( i ) ; } else if ( 0 < j ) { this->answer ++ ; } } } int calculate ( ) { if (! this->isCalculate ) { this->dfs ( 0, 0 ) ; this->isCalculate = true ; } return this->answer ; } private: int dfs ( int a, int pre ) { int h = 0 ; for ( int i : this->lists [ a ] ) { h = max ( h, this->dfs ( i, a ) ) ; } if ( 0 < pre && h == this->k - 1 ) { h = 0 ; this->answer ++ ; } else { h ++ ; } return h ; } }