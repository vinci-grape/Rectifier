import java.util.* ; public class codeforces_61_B { public static void main ( String [ ] args ) { Scanner in = new Scanner ( System.in ) ; String word1 = in.nextLine ( ).replaceAll ( "[^a-zA-Z]", "" ).toLowerCase ( ) ; String word2 = in.nextLine ( ).replaceAll ( "[^a-zA-Z]", "" ).toLowerCase ( ) ; String word3 = in.nextLine ( ).replaceAll ( "[^a-zA-Z]", "" ).toLowerCase ( ) ; String perm1 = word1 + word2 + word3 ; String perm2 = word1 + word3 + word2 ; String perm3 = word2 + word1 + word3 ; String perm4 = word2 + word3 + word1 ; String perm5 = word3 + word2 + word1 ; String perm6 = word3 + word1 + word2 ; int students = in.nextInt ( ) ; in.nextLine ( ) ; for ( int i = 0 ; i < students ; i ++ ) { String testCase = in.nextLine ( ).replaceAll ( "[^a-zA-Z]", "" ).toLowerCase ( ) ; if ( testCase.equals ( perm1 ) or testCase.equals ( perm2 ) or testCase.equals ( perm3 ) or testCase.equals ( perm4 ) or testCase.equals ( perm5 ) or testCase.equals ( perm6 ) ) { print ( "ACC" ) ; } else { print ( "WA" ) ; } } } }